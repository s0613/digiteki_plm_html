<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>검색 분할형 (Search Split Page)</title>
  <link rel="stylesheet" href="../../css/bootstrap.min.css">
  <link rel="stylesheet" href="../../css/digitek.css">
  <link rel="stylesheet" href="../../css/icons.css">
  <style>body { margin: 0; background: #fff; }</style>
</head>
<body>
<!-- 검색 분할형 페이지: Sidebar + GNB + Content 전체 레이아웃 -->
<!-- [상태 변형] searchsplit-digitek-body의 class 조합으로 3가지 상태 표현:
     기본 (상세 닫힘) : class="searchsplit-digitek-body"
     나란히 보기      : class="searchsplit-digitek-body searchsplit-digitek-body-detail-open"
     전체 보기        : class="searchsplit-digitek-body searchsplit-digitek-body-detail-open searchsplit-digitek-body-fullview"
-->
<div class="layout-digitek">
  <!-- 사이드바 (SidebarLoader) -->
  <div data-sidebar></div>

  <div class="layout-digitek-main-area">
    <header class="gnb-digitek">
  <button class="gnb-hamburger-btn sidebar-toggle-btn" aria-label="메뉴 토글">
    <div class="sidebar-hamburger-icon"><span></span><span></span><span></span></div>
  </button>
  <!-- [커스텀] 검색 인풋: 필요 시 주석 해제하여 사용
  <div class="gnb-digitek-search-wrap">
    <input
      type="text"
      class="gnb-digitek-search-field"
      placeholder="검색어를 입력해 주세요"
      aria-label="검색어 입력"
    />
    <button class="btn-digitek-icon-plain" aria-label="검색">
      <i class="dicon dicon-search-lg icon-digitek-24 text-digitek-secondary"></i>
    </button>
  </div>
  -->

  <!-- 우측 영역 -->
  <div class="gnb-digitek-right">
    <!-- 알림/메일 아이콘 -->
    <div class="gnb-digitek-icon-group">
      <button class="gnb-digitek-icon-btn" aria-label="알림">
        <i class="dicon dicon-bell icon-digitek-24 text-digitek-secondary"></i>
        <!-- [커스텀] 알림 뱃지 숫자 변경: th:text="${notificationCount}" -->
        <!-- [커스텀] 알림 없을 경우 뱃지 숨김: th:if="${notificationCount > 0}" -->
        <span class="gnb-digitek-badge">5</span>
      </button>

      <button class="gnb-digitek-icon-btn" aria-label="메일">
        <i class="dicon dicon-mail icon-digitek-24 text-digitek-secondary"></i>
        <!-- [커스텀] 메일 뱃지 숫자 변경: th:text="${mailCount}" -->
        <!-- [커스텀] 메일 없을 경우 뱃지 숨김: th:if="${mailCount > 0}" -->
        <span class="gnb-digitek-badge">12</span>
      </button>
    </div>

    <!-- 다국어 선택 -->
    <!-- [커스텀] JS 연동: 버튼 클릭 시 gnb-digitek-locale-wrap에 'open' 클래스 토글 -->
    <!-- [커스텀] 선택된 언어 표시: th:text="${session.locale == 'ko' ? 'KO' : 'EN'}" -->
    <div class="gnb-digitek-locale-wrap">
      <button class="gnb-digitek-locale-btn" aria-label="언어 선택" aria-haspopup="menu" aria-expanded="false">
        KO
        <i class="dicon dicon-chevron-down-sm" style="width: 12px; height: 12px;" aria-hidden="true"></i>
      </button>
      <div class="gnb-digitek-locale-dropdown" role="menu">
        <!-- [커스텀] 현재 선택 언어 옵션에 'active' 클래스 추가 -->
        <button class="gnb-digitek-locale-option active" role="menuitem">KO</button>
        <button class="gnb-digitek-locale-option" role="menuitem">EN</button>
      </div>
    </div>

    <!-- 프로필 -->
    <!-- [커스텀] JS 연동: 클릭 시 프로필 드롭다운 표시 (필요에 따라 구현) -->
    <!-- [참고] div[role="button"] 키보드 이벤트(Enter/Space)는 digitek.js가 자동 처리합니다 -->
    <div class="gnb-digitek-profile" role="button" tabindex="0" aria-label="프로필 메뉴" aria-haspopup="menu" aria-expanded="false">
      <div class="gnb-digitek-avatar">
        <img src="../../images/icons/avatar.png" width="32" height="32" alt="" aria-hidden="true" style="border-radius: 50%;">
      </div>
      <!-- [커스텀] 현재 로그인 사용자명 변경: th:text="${user.name}" -->
      <span class="gnb-digitek-profile-name">사용자 이름</span>
    </div>
  </div>
</header>
        <!-- 콘텐츠 영역 -->
    <div class="flex-grow-1 d-flex overflow-digitek-hidden" style="background: var(--digitek-bg-gray);">
      <div class="searchsplit-digitek-body">

        <!-- 좌측 검색 패널 -->
        <!-- [Thymeleaf] th:action="@{/search}" th:method="get" 으로 서버 URL 바인딩 -->
<form method="get" action="/search">
<div class="searchsplit-digitek-search-panel">
        <!-- 브레드크럼 + 제목 -->
        <div class="searchsplit-digitek-header">
          <nav aria-label="breadcrumb">
            <ol class="breadcrumb breadcrumb-digitek">
              <li class="breadcrumb-digitek-item">
                <a href="#" class="breadcrumb-digitek-depth breadcrumb-digitek-clickable">시험/ 시작/해석</a>
              </li>
              <li class="breadcrumb-digitek-item">
                <i class="dicon dicon-breadcrumb-separator" aria-hidden="true"></i>
                <a href="#" class="breadcrumb-digitek-depth breadcrumb-digitek-clickable">시작</a>
              </li>
              <li class="breadcrumb-digitek-item" aria-current="page">
                <i class="dicon dicon-breadcrumb-separator" aria-hidden="true"></i>
                <span class="breadcrumb-digitek-depth">시작 검색</span>
              </li>
            </ol>
          </nav>
          <h2 class="searchsplit-digitek-title">시작 검색</h2>
        </div>

        <!-- 기본 검색 필드 (세로 배치) -->
        <!-- [주의] 아래 id 속성들은 한 페이지에 이 컴포넌트가 한 번만 사용될 때만 유효합니다.
             동일 페이지에 두 번 이상 포함 시 id 충돌이 발생합니다. Thymeleaf fragment로 동적 id를 사용하세요. -->
        <!-- [커스텀] name/id 속성을 업무에 맞게 변경하세요 -->
        <div class="searchsplit-digitek-search-fields">
          <div class="searchsplit-digitek-search-input">
            <input type="text" id="searchsplit-request-title" name="requestTitle" aria-label="의뢰 제목" placeholder="검색어를 입력해 주세요" />
            <i class="dicon dicon-search-lg icon-digitek-24" style="color: #767676; flex-shrink: 0;" aria-hidden="true"></i>
          </div>
          <div class="searchsplit-digitek-search-input">
            <input type="text" id="searchsplit-request-no" name="requestNo" aria-label="의뢰 번호" placeholder="검색어를 입력해 주세요" />
            <i class="dicon dicon-search-lg icon-digitek-24" style="color: #767676; flex-shrink: 0;" aria-hidden="true"></i>
          </div>
          <div class="searchsplit-digitek-search-input">
            <input type="text" id="searchsplit-tcode" name="tCode" aria-label="T/Code" placeholder="검색어를 입력해 주세요" />
            <i class="dicon dicon-search-lg icon-digitek-24" style="color: #767676; flex-shrink: 0;" aria-hidden="true"></i>
          </div>
        </div>

        <!-- 구분선 -->
        <hr class="searchsplit-digitek-divider" />

        <!-- 필터 토글 -->
        <button type="button" class="searchsplit-digitek-filter-toggle" aria-expanded="true" aria-controls="searchsplit-filter-area" data-toggle="searchsplit-filter">
          <span class="searchsplit-digitek-filter-toggle-text">검색 조건 필터 추가</span>
          <i class="dicon dicon-chevron-up icon-digitek-20 text-digitek-secondary" aria-hidden="true"></i>
        </button>

        <!-- 추가 필터 영역 (2열 그리드) -->
        <div class="searchsplit-digitek-filter-area show" id="searchsplit-filter-area">
          <div class="searchsplit-digitek-filter-row">
            <div class="searchsplit-digitek-field">
              <label id="searchsplit-label-product-group" class="searchsplit-digitek-field-label">제품군</label>
              <div class="select-digitek">
                <button type="button" class="select-digitek-trigger" aria-haspopup="listbox" aria-expanded="false" aria-labelledby="searchsplit-label-product-group">
                  <span class="select-digitek-text select-digitek-placeholder">항목을 선택해 주세요</span>
                  <i class="dicon dicon-chevron-down select-digitek-icon" aria-hidden="true"></i>
                </button>
                <select style="display:none" name="productGroup">
                  <option value="">항목을 선택해 주세요</option>
                  <option value="product1">제품 1</option>
                  <option value="product2">제품 2</option>
                </select>
              </div>
            </div>
            <div class="searchsplit-digitek-field">
              <label id="searchsplit-label-car-type" class="searchsplit-digitek-field-label">차종</label>
              <div class="select-digitek">
                <button type="button" class="select-digitek-trigger" aria-haspopup="listbox" aria-expanded="false" aria-labelledby="searchsplit-label-car-type">
                  <span class="select-digitek-text select-digitek-placeholder">항목을 선택해 주세요</span>
                  <i class="dicon dicon-chevron-down select-digitek-icon" aria-hidden="true"></i>
                </button>
                <select style="display:none" name="carType">
                  <option value="">항목을 선택해 주세요</option>
                  <option value="type1">차종 1</option>
                  <option value="type2">차종 2</option>
                </select>
              </div>
            </div>
          </div>
          <div class="searchsplit-digitek-filter-row">
            <div class="searchsplit-digitek-field">
              <label id="searchsplit-label-status" class="searchsplit-digitek-field-label">상태</label>
              <div class="select-digitek">
                <button type="button" class="select-digitek-trigger" aria-haspopup="listbox" aria-expanded="false" aria-labelledby="searchsplit-label-status">
                  <span class="select-digitek-text select-digitek-placeholder">항목을 선택해 주세요</span>
                  <i class="dicon dicon-chevron-down select-digitek-icon" aria-hidden="true"></i>
                </button>
                <select style="display:none" name="status">
                  <option value="">항목을 선택해 주세요</option>
                  <option value="approved">승인됨</option>
                  <option value="pending">대기중</option>
                  <option value="rejected">거절됨</option>
                </select>
              </div>
            </div>
            <div class="searchsplit-digitek-field">
              <label id="searchsplit-label-request-type" class="searchsplit-digitek-field-label">의뢰구분</label>
              <div class="select-digitek">
                <button type="button" class="select-digitek-trigger" aria-haspopup="listbox" aria-expanded="false" aria-labelledby="searchsplit-label-request-type">
                  <span class="select-digitek-text select-digitek-placeholder">항목을 선택해 주세요</span>
                  <i class="dicon dicon-chevron-down select-digitek-icon" aria-hidden="true"></i>
                </button>
                <select style="display:none" name="requestType">
                  <option value="">항목을 선택해 주세요</option>
                  <option value="new">신규</option>
                  <option value="change">변경</option>
                </select>
              </div>
            </div>
          </div>
          <div class="searchsplit-digitek-filter-row">
            <div class="searchsplit-digitek-field">
              <label for="searchsplit-author" class="searchsplit-digitek-field-label">작성자</label>
              <div class="searchsplit-digitek-search-input">
                <input type="text" id="searchsplit-author" name="author" placeholder="검색어를 입력해 주세요" />
                <i class="dicon dicon-search-lg icon-digitek-24" style="color: #767676; flex-shrink: 0;" aria-hidden="true"></i>
              </div>
            </div>
            <div class="searchsplit-digitek-field">
              <label id="searchsplit-label-created-date" class="searchsplit-digitek-field-label">작성일</label>
              <div class="date-select-digitek">
                <button type="button" class="date-select-digitek-trigger" aria-labelledby="searchsplit-label-created-date" aria-haspopup="dialog">
                  <span class="date-select-digitek-text date-select-digitek-placeholder">0000-00-00</span>
                  <i class="dicon dicon-calendar icon-digitek-20" style="color: #767676; flex-shrink: 0;" aria-hidden="true"></i>
                </button>
              </div>
            </div>
          </div>
          <div class="searchsplit-digitek-filter-row">
            <div class="searchsplit-digitek-field">
              <label id="searchsplit-label-received-date" class="searchsplit-digitek-field-label">접수일</label>
              <div class="date-select-digitek">
                <button type="button" class="date-select-digitek-trigger" aria-labelledby="searchsplit-label-received-date" aria-haspopup="dialog">
                  <span class="date-select-digitek-text date-select-digitek-placeholder">0000-00-00</span>
                  <i class="dicon dicon-calendar icon-digitek-20" style="color: #767676; flex-shrink: 0;" aria-hidden="true"></i>
                </button>
              </div>
            </div>
            <div class="searchsplit-digitek-field">
              <!-- [커스텀] 필터 라벨이 위의 '차종' 셀렉트와 중복됩니다. 업무에 맞게 라벨/name을 변경하세요 -->
              <label for="searchsplit-car-type-text" class="searchsplit-digitek-field-label">차종</label>
              <div class="searchsplit-digitek-search-input">
                <input type="text" id="searchsplit-car-type-text" name="carTypeText" placeholder="검색어를 입력해 주세요" />
                <i class="dicon dicon-search-lg icon-digitek-24" style="color: #767676; flex-shrink: 0;" aria-hidden="true"></i>
              </div>
            </div>
          </div>
          <div class="searchsplit-digitek-filter-row">
            <div class="searchsplit-digitek-field">
              <label id="searchsplit-label-engine" class="searchsplit-digitek-field-label">엔진</label>
              <div class="select-digitek">
                <button type="button" class="select-digitek-trigger" aria-haspopup="listbox" aria-expanded="false" aria-labelledby="searchsplit-label-engine">
                  <span class="select-digitek-text select-digitek-placeholder">항목을 선택해 주세요</span>
                  <i class="dicon dicon-chevron-down select-digitek-icon" aria-hidden="true"></i>
                </button>
                <select style="display:none" name="engine">
                  <option value="">항목을 선택해 주세요</option>
                  <option value="engine1">엔진 1</option>
                  <option value="engine2">엔진 2</option>
                </select>
              </div>
            </div>
            <div class="searchsplit-digitek-field">
              <label id="searchsplit-label-request-purpose" class="searchsplit-digitek-field-label">의뢰 목적</label>
              <div class="select-digitek">
                <button type="button" class="select-digitek-trigger" aria-haspopup="listbox" aria-expanded="false" aria-labelledby="searchsplit-label-request-purpose">
                  <span class="select-digitek-text select-digitek-placeholder">항목을 선택해 주세요</span>
                  <i class="dicon dicon-chevron-down select-digitek-icon" aria-hidden="true"></i>
                </button>
                <select style="display:none" name="requestPurpose">
                  <option value="">항목을 선택해 주세요</option>
                  <option value="purpose1">목적 1</option>
                  <option value="purpose2">목적 2</option>
                </select>
              </div>
            </div>
          </div>
          <div class="searchsplit-digitek-filter-row">
            <div class="searchsplit-digitek-field">
              <!-- [커스텀] 필터 라벨이 위의 '상태' 셀렉트와 중복됩니다. 업무에 맞게 라벨/name을 변경하세요 -->
              <label id="searchsplit-label-status-2" class="searchsplit-digitek-field-label">상태</label>
              <div class="select-digitek">
                <button type="button" class="select-digitek-trigger" aria-haspopup="listbox" aria-expanded="false" aria-labelledby="searchsplit-label-status-2">
                  <span class="select-digitek-text select-digitek-placeholder">항목을 선택해 주세요</span>
                  <i class="dicon dicon-chevron-down select-digitek-icon" aria-hidden="true"></i>
                </button>
                <select style="display:none" name="status2">
                  <option value="">항목을 선택해 주세요</option>
                  <option value="approved">승인됨</option>
                  <option value="pending">대기중</option>
                  <option value="rejected">거절됨</option>
                </select>
              </div>
            </div>
            <div class="searchsplit-digitek-field">
              <label id="searchsplit-label-item" class="searchsplit-digitek-field-label">아이템</label>
              <div class="select-digitek">
                <button type="button" class="select-digitek-trigger" aria-haspopup="listbox" aria-expanded="false" aria-labelledby="searchsplit-label-item">
                  <span class="select-digitek-text select-digitek-placeholder">항목을 선택해 주세요</span>
                  <i class="dicon dicon-chevron-down select-digitek-icon" aria-hidden="true"></i>
                </button>
                <select style="display:none" name="item">
                  <option value="">항목을 선택해 주세요</option>
                  <option value="item1">아이템 1</option>
                  <option value="item2">아이템 2</option>
                </select>
              </div>
            </div>
          </div>
          <div class="searchsplit-digitek-field">
            <label for="searchsplit-receiver" class="searchsplit-digitek-field-label">접수자</label>
            <div class="searchsplit-digitek-search-input">
              <input type="text" id="searchsplit-receiver" name="receiver" placeholder="검색어를 입력해 주세요" />
              <i class="dicon dicon-search-lg icon-digitek-24" style="color: #767676; flex-shrink: 0;" aria-hidden="true"></i>
            </div>
          </div>
        </div>

        <!-- 검색 버튼 -->
        <button type="submit" class="btn btn-digitek btn-digitek-primary btn-digitek-56 w-100">검색</button>
      </div>
</form>

        <!-- 우측 결과 영역 -->
        <div class="searchsplit-digitek-results">
        <!-- 뷰 토글 탭 -->
        <div class="searchsplit-digitek-view-tabs">
          <button type="button" class="searchsplit-digitek-view-tab active" aria-pressed="true">나란히 보기</button>
          <button type="button" class="searchsplit-digitek-view-tab" aria-pressed="false">펼쳐서 보기</button>
        </div>

        <!-- 결과 카드 (흰색 카드) -->
        <div class="searchsplit-digitek-results-card">
          <!-- 결과 헤더 -->
          <div class="searchsplit-digitek-results-header">
            <!-- [커스텀] th:text="'검색 결과 (' + ${searchResult.totalCount} + ')'" 으로 총 결과 수 동적 바인딩 -->
            <span class="searchsplit-digitek-results-title">검색 결과 <span class="searchsplit-digitek-results-count">(1830)</span></span>
            <button type="button" class="searchsplit-digitek-results-toggle" aria-expanded="true" aria-controls="searchsplit-results-body searchsplit-results-pagination" aria-label="검색 결과 영역 토글" data-toggle="searchsplit-results">
              <i class="dicon dicon-chevron-up icon-digitek-20 text-digitek-secondary" aria-hidden="true"></i>
            </button>
            <div class="searchsplit-digitek-results-actions">
              <!-- [Thymeleaf] th:href="@{/search(view='list')}" -->
              <a href="/search?view=list" class="searchlist-digitek-view-option">
                <i class="dicon dicon-check" style="width: 12px; height: 8px;" aria-hidden="true"></i>
                목록형 보기
              </a>
              <!-- [Thymeleaf] th:href="@{/search(view='split')}" -->
              <a href="/search?view=split" class="searchlist-digitek-view-option active" aria-current="page">
                <i class="dicon dicon-check" style="width: 12px; height: 8px;" aria-hidden="true"></i>
                분할형 보기
              </a>
            </div>
          </div>

          <!-- 테이블 -->
          <div id="searchsplit-results-body" class="searchsplit-digitek-table-wrap">
            <table class="table-digitek" aria-label="검색 결과 목록">
              <thead>
                <tr>
                  <th scope="col">의뢰번호</th>
                  <th scope="col">의뢰제목</th>
                  <th scope="col">T/Code</th>
                  <th scope="col">제품군</th>
                  <th scope="col">차종</th>
                  <th scope="col">상태</th>
                  <th scope="col">작성자</th>
                  <th scope="col">작성일</th>
                </tr>
              </thead>
              <!-- [커스텀] th:each="item : ${searchResult.items}" 으로 검색 결과 행 반복 바인딩
                   각 셀은 th:text="${item.requestNo}" 등으로 동적 바인딩. 행 클릭 시 상세 패널 열림 -->
              <tbody>
          <tr class="searchsplit-digitek-table-row" data-detail-trigger>
            <td>H00.015-56</td>
            <td>시제품 제작</td>
            <td>t-code-006</td>
            <td>제품 1</td>
            <td>차종</td>
            <td><span class="badge-digitek-permission badge-digitek-permission-approved"><span class="badge-digitek-permission-dot badge-digitek-dot-approved"></span>승인됨</span></td>
            <td>이백길</td>
            <td>2025-04-30</td>
          </tr>
          <tr class="searchsplit-digitek-table-row" data-detail-trigger>
            <td>H00.015-56</td>
            <td>시제품 제작</td>
            <td>t-code-006</td>
            <td>제품 1</td>
            <td>차종</td>
            <td><span class="badge-digitek-permission badge-digitek-permission-approved"><span class="badge-digitek-permission-dot badge-digitek-dot-approved"></span>승인됨</span></td>
            <td>이백길</td>
            <td>2025-04-30</td>
          </tr>
          <tr class="searchsplit-digitek-table-row" data-detail-trigger>
            <td>H00.015-56</td>
            <td>시제품 제작</td>
            <td>t-code-006</td>
            <td>제품 1</td>
            <td>차종</td>
            <td><span class="badge-digitek-permission badge-digitek-permission-approved"><span class="badge-digitek-permission-dot badge-digitek-dot-approved"></span>승인됨</span></td>
            <td>이백길</td>
            <td>2025-04-30</td>
          </tr>
          <tr class="searchsplit-digitek-table-row" data-detail-trigger>
            <td>H00.015-56</td>
            <td>시제품 제작</td>
            <td>t-code-006</td>
            <td>제품 1</td>
            <td>차종</td>
            <td><span class="badge-digitek-permission badge-digitek-permission-approved"><span class="badge-digitek-permission-dot badge-digitek-dot-approved"></span>승인됨</span></td>
            <td>이백길</td>
            <td>2025-04-30</td>
          </tr>
          <tr class="searchsplit-digitek-table-row" data-detail-trigger>
            <td>H00.015-56</td>
            <td>시제품 제작</td>
            <td>t-code-006</td>
            <td>제품 1</td>
            <td>차종</td>
            <td><span class="badge-digitek-permission badge-digitek-permission-approved"><span class="badge-digitek-permission-dot badge-digitek-dot-approved"></span>승인됨</span></td>
            <td>이백길</td>
            <td>2025-04-30</td>
          </tr>
          <tr class="searchsplit-digitek-table-row" data-detail-trigger>
            <td>H00.015-56</td>
            <td>시제품 제작</td>
            <td>t-code-006</td>
            <td>제품 1</td>
            <td>차종</td>
            <td><span class="badge-digitek-permission badge-digitek-permission-approved"><span class="badge-digitek-permission-dot badge-digitek-dot-approved"></span>승인됨</span></td>
            <td>이백길</td>
            <td>2025-04-30</td>
          </tr>
          <tr class="searchsplit-digitek-table-row" data-detail-trigger>
            <td>H00.015-56</td>
            <td>시제품 제작</td>
            <td>t-code-006</td>
            <td>제품 1</td>
            <td>차종</td>
            <td><span class="badge-digitek-permission badge-digitek-permission-approved"><span class="badge-digitek-permission-dot badge-digitek-dot-approved"></span>승인됨</span></td>
            <td>이백길</td>
            <td>2025-04-30</td>
          </tr>
          <tr class="searchsplit-digitek-table-row" data-detail-trigger>
            <td>H00.015-56</td>
            <td>시제품 제작</td>
            <td>t-code-006</td>
            <td>제품 1</td>
            <td>차종</td>
            <td><span class="badge-digitek-permission badge-digitek-permission-approved"><span class="badge-digitek-permission-dot badge-digitek-dot-approved"></span>승인됨</span></td>
            <td>이백길</td>
            <td>2025-04-30</td>
          </tr>
          <tr class="searchsplit-digitek-table-row" data-detail-trigger>
            <td>H00.015-56</td>
            <td>시제품 제작</td>
            <td>t-code-006</td>
            <td>제품 1</td>
            <td>차종</td>
            <td><span class="badge-digitek-permission badge-digitek-permission-approved"><span class="badge-digitek-permission-dot badge-digitek-dot-approved"></span>승인됨</span></td>
            <td>이백길</td>
            <td>2025-04-30</td>
          </tr>
          <tr class="searchsplit-digitek-table-row" data-detail-trigger>
            <td>H00.015-56</td>
            <td>시제품 제작</td>
            <td>t-code-006</td>
            <td>제품 1</td>
            <td>차종</td>
            <td><span class="badge-digitek-permission badge-digitek-permission-approved"><span class="badge-digitek-permission-dot badge-digitek-dot-approved"></span>승인됨</span></td>
            <td>이백길</td>
            <td>2025-04-30</td>
          </tr>
          <tr class="searchsplit-digitek-table-row" data-detail-trigger>
            <td>H00.015-56</td>
            <td>시제품 제작</td>
            <td>t-code-006</td>
            <td>제품 1</td>
            <td>차종</td>
            <td><span class="badge-digitek-permission badge-digitek-permission-approved"><span class="badge-digitek-permission-dot badge-digitek-dot-approved"></span>승인됨</span></td>
            <td>이백길</td>
            <td>2025-04-30</td>
          </tr>
          <tr class="searchsplit-digitek-table-row" data-detail-trigger>
            <td>H00.015-56</td>
            <td>시제품 제작</td>
            <td>t-code-006</td>
            <td>제품 1</td>
            <td>차종</td>
            <td><span class="badge-digitek-permission badge-digitek-permission-approved"><span class="badge-digitek-permission-dot badge-digitek-dot-approved"></span>승인됨</span></td>
            <td>이백길</td>
            <td>2025-04-30</td>
          </tr>
          <tr class="searchsplit-digitek-table-row" data-detail-trigger>
            <td>H00.015-56</td>
            <td>시제품 제작</td>
            <td>t-code-006</td>
            <td>제품 1</td>
            <td>차종</td>
            <td><span class="badge-digitek-permission badge-digitek-permission-approved"><span class="badge-digitek-permission-dot badge-digitek-dot-approved"></span>승인됨</span></td>
            <td>이백길</td>
            <td>2025-04-30</td>
          </tr>
          <tr class="searchsplit-digitek-table-row" data-detail-trigger>
            <td>H00.015-56</td>
            <td>시제품 제작</td>
            <td>t-code-006</td>
            <td>제품 1</td>
            <td>차종</td>
            <td><span class="badge-digitek-permission badge-digitek-permission-approved"><span class="badge-digitek-permission-dot badge-digitek-dot-approved"></span>승인됨</span></td>
            <td>이백길</td>
            <td>2025-04-30</td>
          </tr>
          <tr class="searchsplit-digitek-table-row" data-detail-trigger>
            <td>H00.015-56</td>
            <td>시제품 제작</td>
            <td>t-code-006</td>
            <td>제품 1</td>
            <td>차종</td>
            <td><span class="badge-digitek-permission badge-digitek-permission-approved"><span class="badge-digitek-permission-dot badge-digitek-dot-approved"></span>승인됨</span></td>
            <td>이백길</td>
            <td>2025-04-30</td>
          </tr>
          <tr class="searchsplit-digitek-table-row" data-detail-trigger>
            <td>H00.015-56</td>
            <td>시제품 제작</td>
            <td>t-code-006</td>
            <td>제품 1</td>
            <td>차종</td>
            <td><span class="badge-digitek-permission badge-digitek-permission-approved"><span class="badge-digitek-permission-dot badge-digitek-dot-approved"></span>승인됨</span></td>
            <td>이백길</td>
            <td>2025-04-30</td>
          </tr>
          <tr class="searchsplit-digitek-table-row" data-detail-trigger>
            <td>H00.015-56</td>
            <td>시제품 제작</td>
            <td>t-code-006</td>
            <td>제품 1</td>
            <td>차종</td>
            <td><span class="badge-digitek-permission badge-digitek-permission-approved"><span class="badge-digitek-permission-dot badge-digitek-dot-approved"></span>승인됨</span></td>
            <td>이백길</td>
            <td>2025-04-30</td>
          </tr>
          <tr class="searchsplit-digitek-table-row" data-detail-trigger>
            <td>H00.015-56</td>
            <td>시제품 제작</td>
            <td>t-code-006</td>
            <td>제품 1</td>
            <td>차종</td>
            <td><span class="badge-digitek-permission badge-digitek-permission-approved"><span class="badge-digitek-permission-dot badge-digitek-dot-approved"></span>승인됨</span></td>
            <td>이백길</td>
            <td>2025-04-30</td>
          </tr>
          <tr class="searchsplit-digitek-table-row" data-detail-trigger>
            <td>H00.015-56</td>
            <td>시제품 제작</td>
            <td>t-code-006</td>
            <td>제품 1</td>
            <td>차종</td>
            <td><span class="badge-digitek-permission badge-digitek-permission-approved"><span class="badge-digitek-permission-dot badge-digitek-dot-approved"></span>승인됨</span></td>
            <td>이백길</td>
            <td>2025-04-30</td>
          </tr>
          <tr class="searchsplit-digitek-table-row" data-detail-trigger>
            <td>H00.015-56</td>
            <td>시제품 제작</td>
            <td>t-code-006</td>
            <td>제품 1</td>
            <td>차종</td>
            <td><span class="badge-digitek-permission badge-digitek-permission-approved"><span class="badge-digitek-permission-dot badge-digitek-dot-approved"></span>승인됨</span></td>
            <td>이백길</td>
            <td>2025-04-30</td>
          </tr>
          <tr class="searchsplit-digitek-table-row" data-detail-trigger>
            <td>H00.015-56</td>
            <td>시제품 제작</td>
            <td>t-code-006</td>
            <td>제품 1</td>
            <td>차종</td>
            <td><span class="badge-digitek-permission badge-digitek-permission-approved"><span class="badge-digitek-permission-dot badge-digitek-dot-approved"></span>승인됨</span></td>
            <td>이백길</td>
            <td>2025-04-30</td>
          </tr>
          <tr class="searchsplit-digitek-table-row" data-detail-trigger>
            <td>H00.015-56</td>
            <td>시제품 제작</td>
            <td>t-code-006</td>
            <td>제품 1</td>
            <td>차종</td>
            <td><span class="badge-digitek-permission badge-digitek-permission-approved"><span class="badge-digitek-permission-dot badge-digitek-dot-approved"></span>승인됨</span></td>
            <td>이백길</td>
            <td>2025-04-30</td>
          </tr>
          <tr class="searchsplit-digitek-table-row" data-detail-trigger>
            <td>H00.015-56</td>
            <td>시제품 제작</td>
            <td>t-code-006</td>
            <td>제품 1</td>
            <td>차종</td>
            <td><span class="badge-digitek-permission badge-digitek-permission-approved"><span class="badge-digitek-permission-dot badge-digitek-dot-approved"></span>승인됨</span></td>
            <td>이백길</td>
            <td>2025-04-30</td>
          </tr>
          <tr class="searchsplit-digitek-table-row" data-detail-trigger>
            <td>H00.015-56</td>
            <td>시제품 제작</td>
            <td>t-code-006</td>
            <td>제품 1</td>
            <td>차종</td>
            <td><span class="badge-digitek-permission badge-digitek-permission-approved"><span class="badge-digitek-permission-dot badge-digitek-dot-approved"></span>승인됨</span></td>
            <td>이백길</td>
            <td>2025-04-30</td>
          </tr>
          <tr class="searchsplit-digitek-table-row" data-detail-trigger>
            <td>H00.015-56</td>
            <td>시제품 제작</td>
            <td>t-code-006</td>
            <td>제품 1</td>
            <td>차종</td>
            <td><span class="badge-digitek-permission badge-digitek-permission-approved"><span class="badge-digitek-permission-dot badge-digitek-dot-approved"></span>승인됨</span></td>
            <td>이백길</td>
            <td>2025-04-30</td>
          </tr>
              </tbody>
            </table>
          </div>

          <!-- 페이지네이션 -->
          <div id="searchsplit-results-pagination" class="searchsplit-digitek-pagination">
            <nav aria-label="페이지 탐색">
              <ul class="pagination pagination-digitek">
                <li class="page-item disabled">
                  <button type="button" class="page-link page-link-digitek" disabled aria-label="이전 페이지">
                    <i class="dicon dicon-chevron-prev" aria-hidden="true"></i>
                  </button>
                </li>
                <li class="page-item active">
                  <button type="button" class="page-link page-link-digitek" aria-current="page">1</button>
                </li>
                <li class="page-item">
                  <button type="button" class="page-link page-link-digitek">2</button>
                </li>
                <li class="page-item">
                  <button type="button" class="page-link page-link-digitek">3</button>
                </li>
                <li class="page-item">
                  <button type="button" class="page-link page-link-digitek">4</button>
                </li>
                <li class="page-item">
                  <button type="button" class="page-link page-link-digitek">5</button>
                </li>
                <li class="page-item">
                  <button type="button" class="page-link page-link-digitek">6</button>
                </li>
                <li class="page-item">
                  <button type="button" class="page-link page-link-digitek">7</button>
                </li>
                <li class="page-item">
                  <button type="button" class="page-link page-link-digitek">8</button>
                </li>
                <li class="page-item">
                  <button type="button" class="page-link page-link-digitek">9</button>
                </li>
                <li class="page-item">
                  <button type="button" class="page-link page-link-digitek">10</button>
                </li>
                <li class="page-item">
                  <button type="button" class="page-link page-link-digitek" aria-label="다음 페이지">
                    <i class="dicon dicon-chevron-next" aria-hidden="true"></i>
                  </button>
                </li>
              </ul>
            </nav>
          </div>
        </div>
      </div>

        <!-- 상세 패널 -->
        <div class="searchsplit-digitek-detail">
        <!-- 상세 헤더 -->
        <div class="searchsplit-digitek-detail-header">
          <div class="searchsplit-digitek-detail-title-row">
            <div class="searchsplit-digitek-detail-title-group">
              <!-- [커스텀] 우측 상세 패널: th:text="${selectedItem.title}" 으로 선택된 항목 제목 동적 바인딩 -->
              <h3 class="searchsplit-digitek-detail-title">시제품 제작 6</h3>
              <!-- [커스텀] th:text="${selectedItem.statusLabel}" 으로 상태 배지 동적 바인딩 -->
              <span class="searchsplit-digitek-detail-badge">시험 의뢰 승인</span>
            </div>
            <div class="searchsplit-digitek-detail-actions">
              <!-- 확대 버튼: 기본 표시 / 전체 보기 시 숨김 -->
              <button type="button" class="searchsplit-digitek-detail-btn" aria-label="확대 보기" data-action="expand">
                <i class="dicon dicon-expand-lg" style="color: #555;" aria-hidden="true"></i>
              </button>
              <!-- 축소 버튼: 전체 보기 시 표시 / 기본 숨김 -->
              <button type="button" class="searchsplit-digitek-detail-btn" aria-label="축소" aria-haspopup="dialog" data-action="shrink" hidden>
                <i class="dicon dicon-shrink" style="color: #555;" aria-hidden="true"></i>
              </button>
              <button type="button" class="searchsplit-digitek-detail-btn" aria-label="닫기" data-action="close">
                <i class="dicon dicon-close icon-digitek-16" style="color: #555;" aria-hidden="true"></i>
              </button>
            </div>
          </div>
        </div>

        <!-- 상세 본문 (스크롤) -->
        <div class="searchsplit-digitek-detail-body">
          <!-- 일정 섹션 -->
          <div class="searchsplit-digitek-detail-section">
            <div class="searchsplit-digitek-schedule-header">
              <span class="searchsplit-digitek-schedule-label">SCHEDULE</span>
              <span class="searchsplit-digitek-schedule-label searchsplit-digitek-schedule-label-date">DATE</span>
            </div>
            <hr class="searchsplit-digitek-section-divider" />
            <div class="searchsplit-digitek-schedule-rows">
              <div class="searchsplit-digitek-schedule-row">
                <span class="searchsplit-digitek-info-label">완료 요구일</span>
                <!-- [커스텀] th:text="${#temporals.format(selectedItem.dueDate, 'yyyy.MM.dd')}" 으로 동적 바인딩 -->
                <span class="searchsplit-digitek-info-value">2026.01.16</span>
              </div>
              <div class="searchsplit-digitek-schedule-row">
                <span class="searchsplit-digitek-info-label">의뢰 완료일</span>
                <!-- [커스텀] th:text="${#temporals.format(selectedItem.completedDate, 'yyyy.MM.dd')}" 으로 동적 바인딩 -->
                <span class="searchsplit-digitek-info-value">2025.11.22</span>
              </div>
              <div class="searchsplit-digitek-schedule-row">
                <span class="searchsplit-digitek-info-label">의뢰 완료일</span>
                <span class="searchsplit-digitek-info-value">2025.12.05</span>
              </div>
            </div>
          </div>

          <!-- 세부사항 아코디언 (열림) -->
          <div class="accordion-digitek-inner">
            <div class="accordion-digitek-inner-header accordion-digitek-inner-header-open" role="button" tabindex="0"
                 aria-expanded="true" aria-controls="searchsplit-detail-info">
              <span class="accordion-digitek-inner-title">세부사항</span>
              <i class="dicon dicon-chevron-up-sm accordion-digitek-chevron" aria-hidden="true"></i>
            </div>
            <!-- [커스텀] 세부사항 패널: 선택된 항목 기준으로 th:text="${selectedItem.XXX}" 으로 각 필드 바인딩 -->
            <div id="searchsplit-detail-info" class="accordion-digitek-inner-content">
              <div class="searchsplit-digitek-info-grid">
                <div class="searchsplit-digitek-info-row">
                  <span class="searchsplit-digitek-info-label">의뢰 제목</span>
                  <!-- [커스텀] th:text="${selectedItem.title}" 으로 동적 바인딩 -->
                  <span class="searchsplit-digitek-info-value">시제품 제작 의뢰 6</span>
                </div>
                <div class="searchsplit-digitek-info-row">
                  <span class="searchsplit-digitek-info-label">의뢰 번호</span>
                  <!-- [커스텀] th:text="${selectedItem.requestNo}" 으로 동적 바인딩 -->
                  <span class="searchsplit-digitek-info-value">SMPL-2511010006</span>
                </div>
                <div class="searchsplit-digitek-info-row">
                  <span class="searchsplit-digitek-info-label">진행도</span>
                  <!-- [커스텀] th:text="${selectedItem.progressPercent + '%'}" 으로 진행률 동적 바인딩 -->
                  <span class="searchsplit-digitek-info-value d-flex align-items-center gap-digitek-8">
                    <span class="progress-digitek-circular" role="progressbar" aria-valuenow="80" style="--percent: 80; --progress-size: 22px; --progress-width: 3px;"></span>
                    80%
                  </span>
                </div>
                <div class="searchsplit-digitek-info-row">
                  <span class="searchsplit-digitek-info-label">Test Spec</span>
                  <!-- [커스텀] th:text="${selectedItem.testSpec}" 으로 동적 바인딩 -->
                  <span class="searchsplit-digitek-info-value">PB.free test(ES90000-04 rev.5)</span>
                </div>
                <div class="searchsplit-digitek-info-row">
                  <span class="searchsplit-digitek-info-label">프로젝트</span>
                  <!-- [커스텀] th:text="${selectedItem.projectCode}" 으로 동적 바인딩 -->
                  <span class="searchsplit-digitek-info-value">TL</span>
                </div>
                <div class="searchsplit-digitek-info-row">
                  <span class="searchsplit-digitek-info-label">개발 단계</span>
                  <!-- [커스텀] th:text="${selectedItem.devStage}" 으로 동적 바인딩 -->
                  <span class="searchsplit-digitek-info-value">CV</span>
                </div>
                <div class="searchsplit-digitek-info-row">
                  <span class="searchsplit-digitek-info-label">샘플 수</span>
                  <!-- [커스텀] th:text="${selectedItem.sampleCount}" 으로 동적 바인딩 -->
                  <span class="searchsplit-digitek-info-value">10</span>
                </div>
              </div>
            </div>
          </div>

          <!-- 세부사항 (담당자 정보) 아코디언 (열림) -->
          <div class="accordion-digitek-inner searchsplit-digitek-detail-section-contact">
            <div class="accordion-digitek-inner-header accordion-digitek-inner-header-open" role="button" tabindex="0"
                 aria-expanded="true" aria-controls="searchsplit-detail-contact">
              <span class="accordion-digitek-inner-title">세부사항</span>
              <i class="dicon dicon-chevron-up-sm accordion-digitek-chevron" aria-hidden="true"></i>
            </div>
            <div id="searchsplit-detail-contact" class="accordion-digitek-inner-content">
              <div class="searchsplit-digitek-info-grid">
                <div class="searchsplit-digitek-info-row">
                  <span class="searchsplit-digitek-info-label">의뢰자</span>
                  <span class="searchsplit-digitek-info-value d-flex align-items-center gap-digitek-8">
                    <img src="../../images/icons/avatar.png" width="22" height="22" alt="" aria-hidden="true" style="border-radius: 50%;">
                    <!-- [커스텀] th:text="${selectedItem.requester.name}" 으로 의뢰자 이름 동적 바인딩 -->
                    이래근
                  </span>
                </div>
                <div class="searchsplit-digitek-info-row">
                  <span class="searchsplit-digitek-info-label">품질경영 담당자</span>
                  <span class="searchsplit-digitek-info-value d-flex align-items-center gap-digitek-8">
                    <img src="../../images/icons/avatar.png" width="22" height="22" alt="" aria-hidden="true" style="border-radius: 50%;">
                    <!-- [커스텀] th:text="${selectedItem.qualityManager.name}" 으로 동적 바인딩 -->
                    홍길동
                  </span>
                </div>
                <div class="searchsplit-digitek-info-row">
                  <span class="searchsplit-digitek-info-label">책임자</span>
                  <span class="searchsplit-digitek-info-value d-flex align-items-center gap-digitek-8">
                    <img src="../../images/icons/avatar.png" width="22" height="22" alt="" aria-hidden="true" style="border-radius: 50%;">
                    <!-- [커스텀] th:text="${selectedItem.manager.name}" 으로 동적 바인딩 -->
                    권경영
                  </span>
                </div>
                <div class="searchsplit-digitek-info-row">
                  <span class="searchsplit-digitek-info-label">사업부/법인</span>
                  <!-- [커스텀] th:text="${selectedItem.division}" 으로 동적 바인딩 -->
                  <span class="searchsplit-digitek-info-value">KLK</span>
                </div>
              </div>
            </div>
          </div>

          <!-- 고객 일정 아코디언 (닫힘) -->
          <div class="accordion-digitek-inner">
            <div class="accordion-digitek-inner-header" role="button" tabindex="0"
                 aria-expanded="false" aria-controls="searchsplit-detail-customer-schedule">
              <span class="accordion-digitek-inner-title">고객 일정</span>
              <i class="dicon dicon-chevron-up-sm accordion-digitek-chevron accordion-digitek-chevron-closed" aria-hidden="true"></i>
            </div>
            <div id="searchsplit-detail-customer-schedule" class="accordion-digitek-inner-content" hidden></div>
          </div>
        </div>
      </div>

      </div>
    </div>

  </div>
</div>

<script src="../../js/jquery.slim.min.js"></script>
<script src="../../js/bootstrap.bundle.min.js"></script>
<script src="../../js/digitek.js"></script>
<script>
(function() {
  /* 필터 토글 */
  document.querySelectorAll('[data-toggle="searchsplit-filter"]').forEach(function(btn) {
    btn.addEventListener('click', function() {
      var expanded = this.getAttribute('aria-expanded') === 'true';
      var nowExpanded = !expanded;
      this.setAttribute('aria-expanded', String(nowExpanded));
      var icon = this.querySelector('.dicon');
      if (icon) {
        icon.classList.toggle('dicon-chevron-down', !nowExpanded);
        icon.classList.toggle('dicon-chevron-up', nowExpanded);
      }
      var area = this.closest('.searchsplit-digitek-search-panel').querySelector('.searchsplit-digitek-filter-area');
      if (area) area.classList.toggle('show');
    });
  });

  /* 뷰 탭 토글 */
  document.querySelectorAll('.searchsplit-digitek-view-tab').forEach(function(tab) {
    tab.addEventListener('click', function() {
      this.closest('.searchsplit-digitek-view-tabs').querySelectorAll('.searchsplit-digitek-view-tab').forEach(function(t) {
        t.classList.remove('active');
        t.setAttribute('aria-pressed', 'false');
      });
      this.classList.add('active');
      this.setAttribute('aria-pressed', 'true');
      var container = this.closest('.searchsplit-digitek-body');
      if (!container) return;
      var isFullView = this.textContent.trim() === '펼쳐서 보기';
      container.classList.toggle('searchsplit-digitek-body-fullview', isFullView);
    });
  });

  /* 행 클릭 → 상세 패널 열기 */
  document.querySelectorAll('[data-detail-trigger]').forEach(function(row) {
    row.addEventListener('click', function() {
      var body = this.closest('.searchsplit-digitek-body');
      if (!body) return;
      body.classList.add('searchsplit-digitek-body-detail-open');
      document.querySelectorAll('.searchsplit-digitek-table-row').forEach(function(r) { r.classList.remove('active'); });
      this.classList.add('active');
    });
  });

  /* 상세 패널 닫기 */
  document.querySelectorAll('[data-action="close"]').forEach(function(btn) {
    btn.addEventListener('click', function() {
      var body = this.closest('.searchsplit-digitek-body');
      if (body) {
        body.classList.remove('searchsplit-digitek-body-detail-open');
        body.classList.remove('searchsplit-digitek-body-fullview');
      }
    });
  });

  /* 확대 버튼 → 전체 보기 + 축소 버튼으로 교체 */
  document.querySelectorAll('[data-action="expand"]').forEach(function(btn) {
    btn.addEventListener('click', function() {
      var panel = this.closest('.searchsplit-digitek-detail');
      var body = this.closest('.searchsplit-digitek-body');
      if (body) body.classList.add('searchsplit-digitek-body-fullview');
      if (panel) {
        var expandBtn = panel.querySelector('[data-action="expand"]');
        var shrinkBtn = panel.querySelector('[data-action="shrink"]');
        if (expandBtn) expandBtn.hidden = true;
        if (shrinkBtn) { shrinkBtn.hidden = false; shrinkBtn.focus(); }
      }
    });
  });

  /* 축소 버튼 → 전체 보기 해제 + 확대 버튼 복원 + 팝업 열기 */
  document.querySelectorAll('[data-action="shrink"]').forEach(function(btn) {
    btn.addEventListener('click', function() {
      var panel = this.closest('.searchsplit-digitek-detail');
      var body = this.closest('.searchsplit-digitek-body');
      if (body) body.classList.remove('searchsplit-digitek-body-fullview');
      if (panel) {
        var expandBtn = panel.querySelector('[data-action="expand"]');
        var shrinkBtn = panel.querySelector('[data-action="shrink"]');
        if (shrinkBtn) shrinkBtn.hidden = true;
        if (expandBtn) expandBtn.hidden = false;
      }
      /* [커스텀] URL에 선택된 항목 ID 파라미터 추가: '../popup/searchsplit-detail-popup.html?id=' + itemId */
      openDetailPopup('../popup/searchsplit-detail-popup.html');
    });
  });

  /* 상세 팝업 열기 (popup-base 패턴: window.open) */
  function openDetailPopup(url, w, h) {
    w = w || 1000;
    h = h || 640;
    var left = Math.round((screen.width / 2) - (w / 2));
    var top  = Math.round((screen.height / 2) - (h / 2));
    window.open(url, 'searchsplit-detail',
      'width=' + w + ',height=' + h +
      ',left=' + left + ',top=' + top +
      ',scrollbars=yes,resizable=yes');
  }

  /* 결과 헤더 아코디언 토글 */
  document.querySelectorAll('[data-toggle="searchsplit-results"]').forEach(function(btn) {
    btn.addEventListener('click', function() {
      var expanded = this.getAttribute('aria-expanded') === 'true';
      var nowExpanded = !expanded;
      this.setAttribute('aria-expanded', String(nowExpanded));
      var icon = this.querySelector('.dicon');
      if (icon) {
        icon.classList.toggle('dicon-chevron-down', !nowExpanded);
        icon.classList.toggle('dicon-chevron-up', nowExpanded);
      }
      var card = this.closest('.searchsplit-digitek-results-card');
      if (card) {
        card.querySelectorAll('.searchsplit-digitek-table-wrap, .searchsplit-digitek-pagination').forEach(function(el) {
          el.style.display = nowExpanded ? '' : 'none';
        });
      }
    });
  });
})();
</script>
</body>
</html>